<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0">
    <channel>
      <title>it&#039;s jessie</title>
      <link>https://jessie.grosen.systems</link>
      <description>Last 10 notes on it&#039;s jessie</description>
      <generator>Quartz -- quartz.jzhao.xyz</generator>
      <item>
    <title>distance audio modulator</title>
    <link>https://jessie.grosen.systems/posts/distance-audio-modulator</link>
    <guid>https://jessie.grosen.systems/posts/distance-audio-modulator</guid>
    <description>&lt;p&gt;recently, my friend zero told me an idea it had to add some crowd-mediated interactivity to a live show: measure how close together a particular few people are by looking at bluetooth signal strengths, then report that back to the synth to modulate some parameters.&lt;/p&gt;
&lt;p&gt;we whittled that down to a simpler starting place: estimate distances to a few devices directly from the central laptop, then emit some midi CC values based on that. with some trial and error, we got that to work! here’s a little demo video:
&lt;video src=&quot;../public-media/midi_rssi_example.mov&quot; controls&gt;&lt;/video&gt;
it’s pretty inconsistent and high latency, as you can tell. i bet if we wrote a little app that sent out bluetooth pings every 25ms we could probably address those, though of course with some tradeoff between the two.&lt;/p&gt;
&lt;p&gt;here’s the python script we wrote:&lt;/p&gt;
&lt;figure data-rehype-pretty-code-figure=&quot;&quot;&gt;&lt;pre tabindex=&quot;0&quot; data-language=&quot;python&quot; data-theme=&quot;github-dark github-light&quot;&gt;&lt;code data-language=&quot;python&quot; data-theme=&quot;github-dark github-light&quot; style=&quot;display: grid;&quot;&gt;&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; asyncio&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; hashlib&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt; &lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; ipdb&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;from&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; bleak &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; BleakScanner&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; mido&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt; &lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt; &lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt;NUM_CCS&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt; =&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt; 8&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt;BASE_CC&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt; =&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt; 70&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt; &lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt;MIN_RSSI&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt; =&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt; 0x&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt;30&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt;MAX_RSSI&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt; =&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt; 0x&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt;60&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt; &lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;def&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#B392F0;--shiki-light:#6F42C1&quot;&gt; clamp&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;(lo, hi, x):&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;    if&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; x &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; lo:&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;        return&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; lo&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;    elif&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; x &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;&gt;&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; hi:&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;        return&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; hi&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;    else&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;        return&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; x&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt; &lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;def&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#B392F0;--shiki-light:#6F42C1&quot;&gt; scale&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;(from_lo, from_hi, to_lo, to_hi, x):&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;    return&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; (clamp(from_lo, from_hi, x) &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;-&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; from_lo) &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;/&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; (from_hi &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;-&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; from_lo) &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; (to_hi &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;-&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; to_lo) &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; to_lo&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt; &lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;def&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#B392F0;--shiki-light:#6F42C1&quot;&gt; rssi_to_midi&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;(rssi):&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;    return&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt; round&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;(scale(&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt;MIN_RSSI&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt;MAX_RSSI&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt;127&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt;abs&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;(rssi)))&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt; &lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;def&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#B392F0;--shiki-light:#6F42C1&quot;&gt; valid_ad&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;(dev, ad):&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;    return&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; dev.name &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;is&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt; not&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt; None&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt; and&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; \&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;           dev.name.startswith(&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#9ECBFF;--shiki-light:#032F62&quot;&gt;&#039;Jessie&#039;&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;and&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; \&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;           ad.rssi &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;is&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt; not&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt; None&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt; and&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; \&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;           (ad.tx_power &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;is&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt; None&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt; or&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; ad.tx_power &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt; 50&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt; &lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;def&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#B392F0;--shiki-light:#6F42C1&quot;&gt; update_cc&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;(port, cc, val):&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;    port.send(mido.Message(&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#9ECBFF;--shiki-light:#032F62&quot;&gt;&#039;control_change&#039;&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#FFAB70;--shiki-light:#E36209&quot;&gt;control&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;cc, &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#FFAB70;--shiki-light:#E36209&quot;&gt;value&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;val))&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt; &lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;async&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt; def&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#B392F0;--shiki-light:#6F42C1&quot;&gt; main&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;():&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;    port &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; mido.open_output()&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;    cc_nums &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; {}&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;    async&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt; with&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; BleakScanner() &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;as&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; scanner:&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;        async&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt; for&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; bd, ad &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;in&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; scanner.advertisement_data():&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;            if&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt; not&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; valid_ad(bd, ad):&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;                continue&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;            if&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; bd.address &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;not&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt; in&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; cc_nums:&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;                if&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt; len&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;(cc_nums) &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt; NUM_CCS&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;                    cc_nums[bd.address] &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt; BASE_CC&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt; +&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt; len&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;(cc_nums)&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;                else&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;                    continue&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt; &lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;            val &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; rssi_to_midi(ad.rssi &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;-&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt; (ad.tx_power &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;or&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt; 8&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;))&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt;            print&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;f&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#9ECBFF;--shiki-light:#032F62&quot;&gt;&quot;&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;bd.name&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#9ECBFF;--shiki-light:#032F62&quot;&gt; -&gt; &lt;/span&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;val&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#9ECBFF;--shiki-light:#032F62&quot;&gt;&quot;&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;            update_cc(port, cc_nums[bd.address], val)&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt; &lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt; &lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#79B8FF;--shiki-light:#005CC5&quot;&gt; __name__&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#F97583;--shiki-light:#D73A49&quot;&gt; ==&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#9ECBFF;--shiki-light:#032F62&quot;&gt; &#039;__main__&#039;&lt;/span&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span data-line=&quot;&quot;&gt;&lt;span style=&quot;--shiki-dark:#E1E4E8;--shiki-light:#24292E&quot;&gt;    asyncio.run(main())&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
&lt;p&gt;if i/we work on it any more, i’ll put it in a repo somewhere&lt;/p&gt;</description>
    <pubDate>Fri, 01 Dec 2023 21:39:00 GMT</pubDate>
  </item>
    </channel>
  </rss>